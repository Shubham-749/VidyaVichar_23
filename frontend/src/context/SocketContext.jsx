import React,{createContext,useContext,useState,useEffect} from 'react';import { io } from 'socket.io-client';import { useAuth } from './AuthContext';const SocketContext=createContext();export const SocketProvider=({lectureId,children})=>{const {user}=useAuth();const [socket,setSocket]=useState(null);useEffect(()=>{if(user&&lectureId){const s=io('http://localhost:5000',{query:{token:user.token,lectureId},transports:['websocket']});setSocket(s);return ()=>s.disconnect();}},[user,lectureId]);return <SocketContext.Provider value={socket}>{children}</SocketContext.Provider>};export const useSocket=()=>useContext(SocketContext);